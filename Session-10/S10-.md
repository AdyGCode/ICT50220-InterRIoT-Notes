---
theme: default
paginate: true
footer: Â© Copyright 2024, Adrian Gould & NM TAFE
header: "![NMTAFE](../images/Black-Red-Banner.svg)"
auto-scaling: true
size: 4k
color: "#ccc"
backgroundColor: "#060606"
tags: 
  - Internet of Things
  - InterRIoT
  - IoT
  - Robotics
  - Python
  - Arduino
  - ESP-32
  - C
  - C++

date created: 03 July 2024
date modified: 10 July 2024
---

# Python, FastAPI and Templating

## Intermediate RIoT

### Session 10

Developed by Adrian Gould

---

```table-of-contents
title: # Contents
style: nestedList
minLevel: 0
maxLevel: 3
includeLinks: true
```

---

# Resources Needed

- Python 3.10+
- PyCharm Professional 2024.2+
- 

Chapter content

## Setting Up

We will do this manually, then open PyCharm for development.

Open terminal with the Bash CLI.

> **Note:**
> If you need to set up Bash and aliases then please refer to:
> - Adding Bash to Windows Terminal [link]
> - Aliases to simplify your work with Bash [link]


Ensure you are in your Source/Repos folder.

Create project folder, and change into it:

```shell
mkdir xxx-fastapi-intro
cd xxx-fastapi-intro
```

Create python virtual environment, and activate it:

```bash
python -m venv .venv
source ./venv/Scripts/activate
```

Create base files & folders:

```bash
mkdir templates static src 
touch ReadMe.md .gitignore src/source.css
touch {src,templates,static}/.gitignore
```

Initialise version control

```bash
git init .
git add src templates static
git add ReadMe.md .gitignore
git status
```

Use the git status command to check that the following are new files:

```text
new file:   .gitignore
new file:   ReadMe.md
new file:   src/.gitignore
new file:   src/source.css
new file:   static/.gitignore
new file:   templates/.gitignore
```

# PyCharm, Plugins and The Project

Open PyCharm professional and then use the Menu->File->Open to open the `xxx-fastapi-templating` folder as a new project.

## Adding Plugins

Once the project is open, Use <kbd>CTRL</kbd>+<kbd>ALT</kbd>+<kbd>S</kbd> to open the settings (<kbd>CMD</kbd>+<kbd>,</kbd> on MacOS).

Locate the Plugins section on the left side of the dialog.

In the Marketplace tab, locate and install the following plugins:

- .ignore
- Rainbow Brackets
- .env
- Key Promoter X
- CSV Editor
- Conventional Commit
- Pydantic
- Python Security

You will need to restart you PyCharm Professional IDE.

## Update the Git Ignore file

Now we need to update the `.gitignore` file.

Use the following steps:
- click on the `.gitignore` file in the root folder.
- Menu -> File -> New -> `.ignore` -> `.gitignore`

Add the following templates:
- Backup
- JetBrains+all
- JetBrains+iml
- Linux
- MacOS
- Windows
- Python
- VirtualEnv
- VisualStudioCode
- esp-idf
- Node

We suggest generating without duplicates and optionally without comments and empty lines.

Update the stashed files in git (including your PyCharm settings):

```shell
git add .gitignore .idea

git status
```

You should now see these listed as new files:

```text
.gitignore
.idea/.gitignore
.idea/inspectionProfiles/profiles_settings.xml
.idea/misc.xml
.idea/modules.xml
.idea/vcs.xml
.idea/xxx-fastapi-templating.iml
ReadMe.md
src/.gitignore
src/source.css
static/.gitignore
templates/.gitignore
```

Now commit these files:

```bash
git commit -m "init: Set Up Project"
```

# Set Up FastAPI & Jinja2

Install FastAPI and Jinja2 using:

```shell
pip install "fastapi[standard]" jinja2
```

Create a `requirements.txt` file using:

```shell
pip freeze > requirements.txt
```


# Set Up Tailwind CSS

Seeing as we already have encountered TailwindCSS we may as well also include it in this project.

```shell
npm install tailwindcss
```

Initialise the TailwindCSS configuration file:

```
./node_modules/.bin/tailwindcss init
```

If you want to make this easier for the future you could add an alias to the command. See https://help.screencraft.net.au/hc/2680392001/66/add-bash-command-line-aliases-for-git for more details.

Open the `tailwind.config.js` file (it will be in the root of the project) and update it so it contains:

```js
/**
 * Tailwind Configuration File
 *
 * Filename:        tailwind.config.js
 * Location:        /
 * Project:         SaaS-Vanilla-MVC
 * Date Created:    20/08/2024
 *
 * Author:          Your Name
 */

/** @type {import('tailwindcss').Config} */
module.exports = {
    content: [
        "./src/**/*.{html,js}",
        "./**/*.{html,js,php}"
    ],
    theme: {
        extend: {},
    },
    plugins: [],
}
```

Open the `src/source.css` file and add:

```css
@tailwind base;  
@tailwind components;  
@tailwind utilities;
```

Open a new Bash CLI.
Presuming you are in the Source/Repos folder we now change into the project folder, and start the Tailwind build & watch:

```bash
tailwind -i src/source.css -o static/css/site.css --watch
```

# Creating A Home Page

Create a Python 'app.py' file:

```shell
touch app.py
```

Now edit it in PyCharm...

Add the following:

```py

```


## Start the (FastAPI) Engines...

```shell
fastapi dev app.py
```

# END

Next up - [LINK TEXT](#)
